{% extends 'shapefiles/base.html' %}
{% load shapefile_tags %}

{% block header %}Places{% endblock %}

{% block css %}
<style type="text/css">
    #map {
        height: 300px;
    }
</style>
{% endblock %}

{% block js %}
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
<script type="text/javascript" src="{{ STATIC_URL }}js/maps.js"></script>
<script type="text/javascript">
    $(document).ready(function() {
        var map = $('#map').map();
        map.map("add_marker", {
            'title': "{{ place.name }}",
            'point': [{{ place.point.coords.0 }}, {{ place.point.coords.1 }}]
        });
        map.map("center", [{{ place.point.coords.0 }}, {{ place.point.coords.1 }}]);
        map.map("zoom", 16);
    });
</script>
{% endblock %}

{% block content %}test
{% endblock %}

{% block sidebar %}
    <h3>{{ place }}</h3>
    <ul id='places'>
        <li>Name: {{ place }}</li>
        <li>
            Location:
            <ul>
                <li>Latitude: {{ place.point.coords.1 }}</li>
                <li>Longitude: {{ place.point.coords.0 }}</li>
            </ul>
    </ul>
    <div id="map"></div>
{% endblock %}
